<!DOCTYPE html>
<html>
  <head>
    <title>ImageSaver</title>
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="container">
      <h1>ImageSaver</h1>
      <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="sun-icon">
          <path d="M12 17a5 5 0 1 0 0-10 5 5 0 0 0 0 10zm0 2a7 7 0 1 1 0-14 7 7 0 0 1 0 14zm0-15a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0V5a1 1 0 0 1 1-1zm0 15a1 1 0 0 1 1 1v1a1 1 0 0 1-2 0v-1a1 1 0 0 1 1-1zM5 12a1 1 0 0 1-1-1 1 1 0 0 1 1-1h1a1 1 0 0 1 0 2H5zm15-1a1 1 0 0 1 0 2h-1a1 1 0 0 1 0-2h1zM6.7 6.7a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 1.4l-.7.7a1 1 0 0 1-1.4 0zm11.3 11.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 1.4l-.7.7a1 1 0 0 1-1.4 0zm-11.3 0a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 1.4-1.4l.7.7a1 1 0 0 1 0 1.4zM18 6.7a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 1.4-1.4l.7.7a1 1 0 0 1 0 1.4z"/>
        </svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="moon-icon" style="display: none;">
          <path d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"/>
        </svg>
      </button>
      <div class="upload-container">
        <label for="mediaUpload" class="upload-label">
          <div class="upload-area" id="dropArea">
            <img
              id="imagePreview"
              style="display: none; max-width: 100%; max-height: 200px"
            />
            <video
              id="videoPreview"
              style="display: none; max-width: 100%; max-height: 200px"
              controls
            ></video>
            <audio
              id="audioPreview"
              style="display: none; max-width: 100%; width: 100%"
              controls
            ></audio>
            <div id="uploadPrompt">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="48"
                height="48"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
              >
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
              </svg>
              <p>Drag & drop media (image, video, audio) or click to upload</p>
            </div>
          </div>
          <input
            type="file"
            id="mediaUpload"
            accept="image/*,video/*,audio/*"
            style="display: none"
          />
        </label>
      </div>

      <div class="format-selection">
        <h3>Select Format</h3>
        <div id="imageFormats" class="format-options">
          <label class="format-option">
            <input type="radio" name="format" value="png" checked />
            <span>PNG</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="jpeg" />
            <span>JPEG</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="svg" />
            <span>SVG</span>
          </label>
        </div>
        <div id="videoFormats" class="format-options" style="display: none;">
          <label class="format-option">
            <input type="radio" name="format" value="mp4" checked />
            <span>MP4</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="webm" />
            <span>WEBM</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="mov" />
            <span>MOV</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="mkv" />
            <span>MKV</span>
          </label>
        </div>
        <div id="audioFormats" class="format-options" style="display: none;">
          <label class="format-option">
            <input type="radio" name="format" value="mp3" checked />
            <span>MP3</span>
          </label>
          <label class="format-option">
            <input type="radio" name="format" value="wav" />
            <span>WAV</span>
          </label>
        </div>
      </div>

      <button id="convertBtn" disabled>Convert & Download</button>
      <div id="errorContainer" style="display: none;" class="error-message"></div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
